{% extends 'base_admin.html.twig' %}

{% block title %}Détails du projet{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="card shadow-sm border-0">
        <div class="card-header bg-info text-white">
            <h1 class="h4 mb-0">Détails du projet</h1>
        </div>
        <div class="card-body">
            <table class="table table-striped table-hover align-middle">
                <tbody>
                    <tr>
                        <th scope="row">ID</th>
                        <td>{{ project.id }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Nom</th>
                        <td>{{ project.projectName }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Description</th>
                        <td>{{ project.projectDesc }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Créé le</th>
                        <td>{{ project.projectCreatedAt ? project.projectCreatedAt|date('d/m/Y') : '' }}</td>
                    </tr>
                    <tr>
                        <th scope="row">Tâches</th>
                        <td>
                            {% if project.getTasks() is not empty %}
                                <ul class="mb-0">
                                    {% for task in project.getTasks() %}
                                        <li>
                                            {{ task.taskTitle }}
                                            {% if task.taskDueDate %}
                                                ({{ task.taskDueDate|date('d/m/Y') }})
                                            {% endif %}
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% else %}
                                <span class="text-muted">Aucune tâche</span>
                            {% endif %}
                        </td>  
                    </tr>                  
                </tbody>
            </table>
        </div>
        <div class="card-footer d-flex justify-content-between">
            <a href="{{ path('admin_project_index') }}" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> Retour à la liste
            </a>
            <div>
                <a href="{{ path('admin_project_edit', {'id': project.id}) }}" class="btn btn-outline-primary me-2">
                    <i class="bi bi-pencil"></i> Modifier
                </a>
                {{ include('admin/project/_delete_form.html.twig') }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
